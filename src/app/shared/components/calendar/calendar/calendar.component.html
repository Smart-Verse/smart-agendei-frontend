<div class="calendar-container">
  <!-- Desktop View -->
  <div class="desktop-view" [class.hidden]="isMobileView">
    <div class="calendar-toolbar">
      <div class="navigation-buttons">
        <button
          class="nav-button"
          (click)="goToPrevious()"
        >
          &#8249;
        </button>
        <button
          class="nav-button"
          (click)="goToNext()"
        >
          &#8250;
        </button>
        <button
          class="today-button"
          (click)="goToToday()"
        >
          Today
        </button>
      </div>

      <div class="current-period">
        <h1>{{ getCurrentPeriodTitle() }}</h1>
      </div>

      <div class="view-buttons">
        <button
          *ngFor="let view of viewModes"
          class="view-button"
          [class.active]="view === currentViewMode"
          (click)="setViewMode(view)"
        >
          {{ view | titlecase }}
        </button>
        <button
          class="view-button mobile-toggle"
          [class.active]="isMobileView"
          (click)="toggleMobileView()"
        >
          Mobile
        </button>
      </div>
    </div>

    <div class="calendar-content">
      <app-day-view
        *ngIf="currentViewMode === 'day'"
        [currentDate]="currentDate"
        [appointments]="currentAppointments"
      ></app-day-view>

      <app-week-view
        *ngIf="currentViewMode === 'week'"
        [currentDate]="currentDate"
        [appointments]="currentAppointments"
      ></app-week-view>

      <app-month-view
        *ngIf="currentViewMode === 'month'"
        [currentDate]="currentDate"
        [appointments]="currentAppointments"
      ></app-month-view>
    </div>
  </div>

  <!-- Mobile View -->
  <div class="mobile-container" [class.hidden]="!isMobileView">
    <app-mobile-view [currentDate]="currentDate" [appointments]="appointments"></app-mobile-view>

    <!-- Mobile View Toggle Button -->
    <button class="mobile-close-btn" (click)="toggleMobileView()">
      <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
        <line x1="18" y1="6" x2="6" y2="18"></line>
        <line x1="6" y1="6" x2="18" y2="18"></line>
      </svg>
    </button>
  </div>
</div>
